---
title: 微信和 QQ 的聊天记录通常存储在本地的 SQLite 数据库文件中
author: 临渊
date:
  - 2025-07-11 14:26:26
tags:
  - 微信
  - QQ
  - 聊天记录
category:
  - 折腾
cover: https://cover.png
feature: true
---
	微信和 QQ 的聊天记录通常存储在本地的 SQLite 数据库文件中。将其同步到本地数据库可通过官方备份工具或手动操作等方法，以下是具体介绍：
- **微信聊天记录同步方法**：
    - **使用官方备份功能**：在手机微信上，进入 “我”→“设置”→“聊天”→“聊天记录备份与迁移”，可选择 “迁移到另一台设备” 将聊天记录迁移到附近设备，或选择 “备份到电脑”，通过微信 PC 版进行备份。备份后的文件包含 SQLite 数据库等相关数据，可视为已同步到电脑本地。
    - **手动复制数据库文件（适用于安卓且需 Root 权限）**：微信聊天记录保存在 “/data/data/com.tencent.mm/MicroMsg/” 下的某个乱码文件夹中，数据库文件为 EnMicroMsg.db，该文件是加密的。需先获取手机 Root 权限，然后将此文件复制到其他位置。密码为 MD5 (手机的 IMEI + 微信 UIN) 的前七位，微信 UIN 存放在微信文件夹 /data/data/com.tencent.mm/shared_prefs/system_config_prefs.xml 中。获取密码后，可用 sqlcipher 打开该数据库文件，聊天记录存放在 message 表中。
    - **借助第三方工具**：可下载如 Chatlog 等工具，先将手机微信聊天记录通过 “迁移到电脑” 功能传输到电脑上，再运行 Chatlog，按照提示解密数据，可将聊天记录相关数据处理后存储到本地数据库相关位置，具体操作因工具而异。
- **QQ 聊天记录同步方法**：
    - **利用官方备份功能**：在 QQ 应用中，进入 “设置”→“聊天记录”→“备份与恢复”，可选择 “备份到手机” 进行本地备份，也可选择 “备份到电脑”，通过 QQ PC 版进行备份，将聊天记录同步到电脑本地。
    - **手动复制数据库文件（适用于安卓）**：QQ 聊天记录数据库文件位于 “/data/data/com.tencent.mobileqq/databases/” 下，文件名以你的 QQ 号码命名，如 “123456789.db”。可将此文件复制到安全位置。群组聊天记录存放在 TroopInfoV2 表中，需对字段 troopuin 求 MD5，聊天记录表名为 “mr_troop_”+troopuinMD5+“_New”，内容是根据手机 IMEI 循环逐位异或加密的，复制后若要查看需进行解密处理。
    - **通过电脑端 QQ 导入备份**：在电脑上登录 QQ，进入 “设置”→“安全设置”→“消息记录”，选择 “导入消息记录”，按照提示操作，可将之前备份的 QQ 聊天记录导入到电脑本地的 QQ 数据库中，实现同步。
以上方法仅适用于备份和同步自己的聊天记录，未经授权获取他人聊天记录属于违法行为。同时，操作过程中可能涉及个人隐私数据，需注意保护，避免数据泄露。